# 更新记录

## 2.7.3

- 🐞 兼容 TTS 服务异常的情况
- ♻️ 更新 TTS key

## 2.7.2

- 🐞 修复地图状态无法保存

## 2.7.1

- ⚡️ 更新扩展板的支持
- 🐞 修复开关反向
- 🐞 修复地图的关闭任然显示放大条

## v2.6.6

- 🆕 支持 Network RC 龙圈风扩展板（开发中）的电压显示
- 🆕 添加状态信息显示接口和状态信息显示界面

  ```bash
  curl -H "Content-Type: application/json" -X POST \
       -d '{"label": "电压", "value": "12v"}' \
       http://127.0.0.1:8080/api/status-info
  ```

- 🆕 添加 GPS 接口 和地图

  ```bash
  curl -H "Content-Type: application/json" -X POST \
       -d '{"label": "gps", "lat": 32, "lng": 101.2}' \
       http://127.0.0.1:8080/api/status-info
  ```

- 🆕 安装脚本对树莓派系统版本检查
- 🆕 安装脚本对依赖包安装检查
- 🆕 安装脚本对 Network RC 下载结果检查

## v2.5.12

- 修复触控 UI 操作偶发的丢失指令的问题
- 修复某些情况下控制界面摄像头画面不动
- 修复退出控制端没有关闭摄像头的问题
- 一键安装指令支持指定版本
  - <https://network-rc.esonwong.com/faq.html#怎么安装旧版本的-network-rc>

## v2.5.10

- 树莓派 Act Led 灯指示 Network RC 运行状态
  - 慢速闪烁：Network RC 已启动
  - 中速闪烁：Network RC 已网络穿透成功
  - 快速闪烁：Network RC 运行错误或者网络穿透失败
  - 长亮状态：控制端已打开
- 兼容树莓派中文系统
- 不再限制网络直连模式下发送语音片段
- 限制触控操作回报率，避免某些高刷手机卡顿

## v2.5.8

- 添加控制端麦克风开关
- 优化连接状态显示
- 修复 frpc 使用配置文件会崩溃的 bug

## v2.5.7

- 修复断开连接会导致程序崩溃的 bug
- 修复使自定义 frpc 配置文件不可用的 bug
- 修复通道内存溢出导致程序崩溃的 bug
- 添加日志系统
  - 日志文件路径 `/home/pi/.network-rc/logs/`
  - 查看实时日志 `tail -n 100 -f ~/.network-rc/logs/all.log`

## v2.5.3

- 默认 frp 服务使用子域名
- 添加麦克风的选择和音量调节
- 修改连接方式的显示
- 增加掉线自动重连
- 修复程序崩溃的 bug

## v2.4.7

- 更新证书
- 修复通道设置 bug
- 优化控制台洁面键盘提示
- 优化控制二级界面

## v2.4.3

- 添加音响设备设置
- 添加暂停音频播放功能
- 语音提示更新

## v2.4.0

- 添加快捷音频或语音播报播放设置
- 新增摄像头水平和垂直翻转功能

## v2.3.2

- 修复刺耳的噪声

## v2.3.1

- 修复被控端麦克风的问题
- 修复音频驱动的 bugs
- 修复版本显示错误

## v2.3.0(beta)

- 重构音频系统，减少音频故障
- 穿透服务器端口开放到 `9999`
- 支持灰度摄像头（热成像摄像头等等）
- 安装脚本完成提示显示控制界面完整访问地址
- 安装脚本自动安装依赖
- 更换为使用 pi 用户运行 Network RC
- 重写 GPIO 控制程序

## v2.2.3

- 更新证书

## v2.2.2

- 移除自动更新证书功能

## v2.2.1

- 修复通道设置最小值的 bug

## v2.2.0

- 通道的键盘控制更新为数值
- 通道的手柄按键控制更新为数值
- 键盘控制增加释放按键不复位通道的选项
- 优化键盘步进控制的卡顿问题

> 注意：更新新此版本后，必须重置通道设置。重置方法：设置 > 通道设置 > 底部的重置按钮

## v2.1.5

- 添加延迟刹车时间的设置
- 修复隐藏 UI 导致白屏的 bug

## v2.1.4

- 修复视频 UI 调整的 bug
- 修复摄像头分辨率修改的 bug

## v2.1.2

- 修复麦克风安全问题

## v2.1.0

- 支持新的树莓派系统

## v2.0.7

- 添加本地端口参数
- 修复证书下载

## v2.0.6

- 升级 nodejs
- 更新 UI
- 修复编辑 UI 的 bug
- 修复无自定义证书路径

## v2.0.5

- WebRTC 连接下收听车子声音
- 兼容 Safari 在 WebRTC 连接下收听车子声音
- 优化高延迟时自动锁定提示

## v2.0.3

- 修复 websocket 连接下没有视频
- 优化控制界面加载速度
- 修复多摄像头画面层级 bug
- 修复关闭摄像头画面实际未关闭的 bug
- 修护获取 https 证书逻辑
- 优化摄像头开关逻辑

## v2.0.1

- 修复 WebRTC bug， 增加成功率
- 修复视频黑屏 bug
- 修复视频布局按钮
- 修复控制端白屏 bug

## v2.0.0

- 自动 WebRTC 传输

## v1.5.3

- 自动更新证书

## v1.5.2

- 修复一键脚本权限问题
- 修复某些情况下不显示视频画面和控制 UI 的问题

## v1.5.0

- 添加一键更新按钮
- 修复 UI bug

## v1.4.2

- 修复部分车友加载配置失败
- 优化设置菜单
- 全屏时隐藏 UI
- 优化 UI 兼容性

## v1.4.1

- 优化自动刹车
- 恢复自动刹车延迟阀值设置
- 通道增加键盘步进方式控制

## v1.4.0

- 添加备份和恢复功能
- 修复和优化重力感应控制

## v1.3.1

- 优化手机重力感应
- 优化摄像头提示
- 控制端显示版本

## v1.3.0

- 重力感应兼容 ios
- 通道增加手机重力感应控制
- 优化保存设置断开连接的问题

## v1.2.1

- 恢复手柄声音按键
- 内置声音文件
- 同步多个控制端开关状态
- 重启树莓派删除声音缓存
- 修复摄像头可能黑屏

## v1.2.0

- 修复手柄语音录制
- 修复油门快捷调整
- 修复程序重启丢失登陆状态
- 修复控制 UI 的 bug
- 修复 UI 设置 的 bug

## v1.1.0

- 添加基本设置
- 修复横、竖屏布局
- UI 添加默认布局
- 修复分享控制
- 优化延迟检测
- 修复延迟刹车
- 修复舵机微调
- 修复重力感应控制

## v1.0.5

- 自定义通道支持键盘

## v1.0.4

- 修复登陆的 bug
- 修复摄像头设置
